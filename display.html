<!DOCTYPE>
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <title>Splash</title>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script>
            $(document).ready(function(){


                $displayCanvas = $('#displayCanvas');
                var canvas = document.getElementById('screen');
                var ctx = canvas.getContext('2d');

                var createCrosshair = function(xPos, yPos, color){

                }

                var deleteCrosshair = function(prevX, prevY){

                }
                var socket = io.connect('/')

                socket.on('data', function(data){
                    var xPos = data.xPos;
                    var  yPos = data.yPos;
                    var color = data.color;
                    ctx.fillRect(xPos - 5, yPos - 5, xPos + 5, yPos + 5);
                    //(xPos, yPos, color);
                });
                $displayCanvas.click(function(e){

                    var offset = $(this).offset();
                    var xPos = e.clientX;
                    var yPos = e.clientY;

                    crosshair = createCrosshair(xPos, yPos);
                    //deleteCrosshair(prevX, prevY);
                    prevX = xPos;
                    prevY = yPos;
                    socket.emit('data', {'xPos': xPos, 'yPos': yPos, 'color': color})
                    socket.emit('xPos', xPos);
                    socket.emit('yPos', yPos);
                    var color;
                    console.log("x: " + xPos + "y: " + yPos);
                });
            });
        </script>
        <script src="/socket.io/socket.io.js"></script>
        <style> #displayCanvas{
            position:absolute;
            
        }
    </style>
</head>

<body>

    <canvas id="screen" style="position: absolute;
    width: 100%;
    height: 100%"></canvas>
    <div id="displayCanvas" class="displayCanvas">
    </div>

</body>
</html>
